{"remainingRequest":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mohamad/Desktop/dev/moarefe_signup/src/components/Form.vue?vue&type=style&index=0&id=1b5a9218&scoped=true&lang=css&","dependencies":[{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/src/components/Form.vue","mtime":1562577721494},{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mohamad/Desktop/dev/moarefe_signup/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#aida {\n  background: #e3e3e3;\n  \n}\n",{"version":3,"sources":["Form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0SA;AACA;;AAEA","file":"Form.vue","sourceRoot":"src/components","sourcesContent":["<template id=\"aida\">\n<div class=\"float-center\">\n  <div id=\"aida\" class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <form>\n          <div class=\"text-center\">\n            <h2 style=\"padding: 20px\">Moarefe Registration</h2>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"exampleInputEmail1\">Email address</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              v-model=\"user.email\"\n              placeholder=\"Enter email\"\n            />\n            <small\n              id=\"emailHelp\"\n              class=\"form-text text-muted\"\n            >We'll never share your email with anyone else.</small>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"exampleInputPassword1\">First Name</label>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              v-model=\"user.first_name\"\n              id=\"exampleInputPassword1\"\n              placeholder=\"Password\"\n            />\n          </div>\n          <div class=\"text-left\">check here bitch</div>\n          <div></div>\n\n          <div class=\"form-check\">\n            <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\" />\n            <label class=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n          </div>\n          <div></div>\n          <div class=\"form-group\">\n            <label for=\"exampleFormControlSelect1\">Example select</label>\n            <select class=\"form-control\" id=\"exampleFormControlSelect1\">\n              <option>1</option>\n              <option>2</option>\n              <option>3</option>\n              <option>4</option>\n              <option>5</option>\n            </select>\n          </div>\n\n          <div class=\"form-check\" v-bind:key=\"parent.pk\" v-for=\"parent in parents\">\n            <input\n              class=\"form-check-input\"\n              :id=\"'parent' + parent.pk\"\n              @change=\"parentCheckboxChanged\"\n              type=\"checkbox\"\n              :value= \"parent.pk\"\n            />\n            <label class=\"form-check-label\" :for=\"'parent' + parent.pk\">{{ parent.name }}</label>\n          </div>\n\n          <div class=\"form-check\">\n            <h2>categories</h2>\n          </div>          \n\n          <div class=\"form-check\" v-bind:key=\"parent.pk\" v-for=\"parent in chosenParents\">\n            <div\n              class=\"form-check\"\n              v-bind:key=\"category.pk\"\n              v-for=\"category in categories\"\n              v-if=\"category.parent.pk == Number(parent)\"\n              \n            >\n              <input\n                class=\"form-check-input\"\n                :id=\"'category' + category.pk\"\n                @change=\"categoryCheckboxChanged\"\n                type=\"checkbox\"\n                :value=\"category.pk\"\n              />\n              <label class=\"form-check-label\" :for=\"'category' + category.pk\"> {{ category.parent.name }} {{ category.name }}</label>\n            </div>\n          </div>\n\n          <div class=\"form-check\">\n            <h2>Questions</h2>\n          </div>\n\n          <div class=\"form-check\" v-bind:key=\"category.pk\" v-for=\"category in chosenCategories\">\n            <div class=\"form-check\" v-bind:key=\"question\" v-for=\"question in questions\">\n              <div class=\"form-check\" v-if=\"question.category.pk == category\">\n                <div class=\"form-check\" v-if=\"question.is_bool == false\">\n                    <p> {{ question.category.name }} {{ question.text }} </p>\n                    <input\n                      v-model=\"info[question.pk]\"\n                      class=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"answer\"\n                      > \n                </div>\n                <div class=\"form-check\" v-else>\n                  <p> {{ question.category.name }} {{ question.text }} </p>\n                  <label><input\n                      v-model=\"info[question.pk]\"\n                      :name=\"question.pk\"\n                      class=\"radio\"\n                      type=\"radio\"\n                      label=\"yes\"\n                      placeholder=\"answer\"\n                      value= true\n                      padding=\"20px\"\n                      > yes </label>\n                      <div></div>\n                      <label><input\n                      v-model=\"info[question.pk]\"\n                      :name=\"question.pk\"\n                      class=\"radio\"\n                      type=\"radio\"\n                      label=\"no\"\n                      value= false\n                      placeholder=\"answer\"\n                      padding=\"20px\"\n                      > no </label>\n\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n\n          <p @click=\"doRegister\" class=\"btn btn-primary\">Submit</p>\n        </form>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"Form\",\n  data() {\n    return {\n      user: {\n        first_name: \"\",\n        last_name: \"aefawe\",\n        email: \"\",\n        phone_number: \"14312\",\n        student_number: null\n      },\n      userpk: null,\n      parents: [],\n      chosenParents: [],\n      categories: [],\n      chosenCategories: [],\n      questions: [],\n      chosenQuestions: [],\n      dataObject: {},\n      info: {},\n      parentsMap : {},\n      categoriesMap : {},\n      questionsMap: {}\n    };\n  },\n  methods: {\n    doRegister() {\n      const vinst = this;\n      axios\n        .post(\"http://localhost:8000/signup/user/\", this.user)\n        .then(response => {\n          console.log(response);\n          this.userpk = response.data[\"pk\"];\n          console.log(this.userpk);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n        console.log(\"info:\");\n        console.log(this.info);\n        var answerData = {};\n        for (var item in this.info) {\n            if (this.questionsMap[item].is_bool == true) {\n              console.log('tushe');\n              answerData = {\n                \"user\": this.userpk,\n                \"question\": item,\n                \"text\": \"\",\n                \"boolean\": this.info[item]\n              }\n              console.log(answerData);\n            } else {\n              console.log('biruneshe');\n              answerData = {\n                \"user\": this.userpk,\n                \"question\": item,\n                \"text\": this.info[item],\n                \"boolean\": null,\n              }\n              console.log(answerData);\n            }\n        }\n        this.info = []; \n    },\n    parentCheckboxChanged($event) {\n      // console.log(this.parentsMap[$event.target.value])\n      if ($event.target.checked) {\n        // console.log($event.target.value)\n        this.chosenParents.push($event.target.value);\n        \n        // console.log(this.chosenParents);\n      } else {\n        let index = this.chosenParents.indexOf($event.target.value);\n        if (index > -1) {\n          this.chosenParents.splice(index, 1);\n        }\n          let temp = this.chosenCategories.slice(0);\n          // console.log('set');\n          // console.log('temp:',temp);\n          // console.log('cC:', this.chosenCategories);\n          for (var cat in temp) {\n            // console.log('cC list:', this.chosenCategories);\n            // console.log('temp list :', temp);\n            // console.log('temp[cat]: ',temp[cat] );\n            // console.log('temp[cat] obj: ',this.categoriesMap[temp[cat]]);\n            // console.log('cC[cat]: ', this.chosenCategories[cat]);\n            // console.log('cC[cat] obj: ', this.categoriesMap[this.chosenCategories[cat]]);\n            // console.log(this.categoriesMap[temp[cat]].parent.pk == $event.target.value);\n            //   console.log(this.categoriesMap[this.chosenCategories[cat]].parent.pk == $event.target.value);\n              // console.log('catlist:');\n              // console.log('cC: ',this.categoriesMap[this.chosenCategories[temp[cat]]]);\n              // console.log('cat:');\n              // console.log(this.chosenCategories[cat]);\n              // console.log('value:');\n              // console.log($event.target.value);\n              \n            if (this.categoriesMap[temp[cat]].parent.pk == $event.target.value) {\n              // console.log('sag in if');\n              // console.log('value: ',$event.target.value);\n              var indexx = this.chosenCategories.indexOf(temp[cat]);\n              // console.log('index: ',indexx);\n              if (indexx > -1) {\n                this.chosenCategories.splice(indexx, 1);\n          //       // console.log(this.chosenCategories);\n              }\n          }\n      }\n      temp = [];\n    }\n    \n    \n\n  },\n  categoryCheckboxChanged($event) {\n      if ($event.target.checked) {\n        this.chosenCategories.push($event.target.value);\n        // console.log(this.chosenCategories);\n      } else {\n        let index = this.chosenCategories.indexOf($event.target.value);\n        if (index > -1) {\n          this.chosenCategories.splice(index, 1);\n        }\n\n      }\n    }\n    },\n  mounted() {\n    axios.get(\"http://localhost:8000/signup/parent\").then(response => {\n      // console.log(response.data);\n      this.parents = response.data;\n      for(let item of this.parents){\n        this.parentsMap[item.pk] = item;\n      }\n      \n    }),\n      axios.get(\"http://localhost:8000/signup/category\").then(response => {\n        // console.log(response.data);\n        this.categories = response.data;\n        for(let item of this.categories){\n        this.categoriesMap[item.pk] = item;\n      }\n      }),\n      axios.get(\"http://localhost:8000/signup/question\").then(response => {\n        // console.log(response.data);\n        this.questions = response.data;\n        for(let item of this.questions){\n        this.questionsMap[item.pk] = item;}\n      });\n  }\n};\n</script>\n\n\n<style scoped>\n#aida {\n  background: #e3e3e3;\n  \n}\n</style>\n\n\n\n\n\n\n\n\n// <div class=\"form-check\" v-bind:key=\"category.pk\" v-for=\"category in chosenCategories\">\n//             <div\n//               class=\"form-check\"\n//               v-bind:key=\"question.pk\"\n//               v-if=\"question.category == Number(category)\"\n              \n\n//               v-for=\"question in questions\"\n//             >\n//               <input\n//                 class=\"form-check-input\"\n//                 :id=\"'question' + question.pk\"\n//                 type=\"checkbox\"\n//                 :value=\"question.pk\"\n//               />\n//               <!-- TODO -->\n//               <label class=\"form-check-label\" :for=\"'question' + question.pk\"> {{ question.text }}</label>\n//             </div>\n//           </div>"]}]}