{"remainingRequest":"/home/amir/Desktop/dev/moarefe98/node_modules/babel-loader/lib/index.js!/home/amir/Desktop/dev/moarefe98/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/amir/Desktop/dev/moarefe98/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/amir/Desktop/dev/moarefe98/src/components/Form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/amir/Desktop/dev/moarefe98/src/components/Form.vue","mtime":1562627741786},{"path":"/home/amir/Desktop/dev/moarefe98/node_modules/cache-loader/dist/cjs.js","mtime":1562496560656},{"path":"/home/amir/Desktop/dev/moarefe98/node_modules/babel-loader/lib/index.js","mtime":1562496560640},{"path":"/home/amir/Desktop/dev/moarefe98/node_modules/cache-loader/dist/cjs.js","mtime":1562496560656},{"path":"/home/amir/Desktop/dev/moarefe98/node_modules/vue-loader/lib/index.js","mtime":1562496561208}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/amir/Desktop/dev/moarefe98/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"Form\",\n  data: function data() {\n    return {\n      user: {\n        first_name: \"\",\n        last_name: \"\",\n        email: \"\",\n        phone_number: \"\",\n        student_number: null,\n        address: \"\"\n      },\n      userpk: null,\n      parents: [],\n      chosenParents: [],\n      categories: [],\n      chosenCategories: [],\n      questions: [],\n      chosenQuestions: [],\n      dataObject: {},\n      info: {},\n      parentsMap: {},\n      categoriesMap: {},\n      questionsMap: {}\n    };\n  },\n  methods: {\n    doRegister: function () {\n      var _doRegister = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var vinst, createuser, _createuser, answerData, answerlist, item, answerres;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _createuser = function _ref2() {\n                  _createuser = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee(a) {\n                    var response, upk;\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return axios.post(\"http://localhost:8000/signup/user/\", a.user);\n\n                          case 2:\n                            response = _context.sent;\n\n                            // console.log('2');\n                            if (response.status == 200) {\n                              // console.log('success: ',response);\n                              upk = response.data[\"pk\"]; // console.log(a.userpk);\n                            } else {\n                              console.log('error: ', response);\n                            }\n\n                            return _context.abrupt(\"return\", upk);\n\n                          case 5:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n                  return _createuser.apply(this, arguments);\n                };\n\n                createuser = function _ref(_x) {\n                  return _createuser.apply(this, arguments);\n                };\n\n                vinst = this; // console.log(this.user);\n\n                _context2.next = 5;\n                return createuser(this);\n\n              case 5:\n                this.userpk = _context2.sent;\n                // .then((res)=>{\n                //     // console.log(res);\n                //     this.userpk = res;\n                // console.log(this.userpk);\n                // console.log(this.userpk);\n                // });\n                // console.log(\"info:\");\n                // console.log(this.info);\n                // console.log(this.userpk);\n                answerData = {};\n                answerlist = [];\n\n                for (item in this.info) {\n                  if (this.questionsMap[item].is_bool == true) {\n                    // console.log('tushe');\n                    answerData = {\n                      \"user\": this.userpk,\n                      \"question\": item,\n                      \"text\": \"\",\n                      \"boolean\": this.info[item]\n                    };\n                    answerlist.push(answerData); // console.log(answerData);\n                  } else {\n                    // console.log('biruneshe');\n                    answerData = {\n                      \"user\": this.userpk,\n                      \"question\": item,\n                      \"text\": this.info[item],\n                      \"boolean\": null\n                    };\n                    answerlist.push(answerData); // console.log(answerData);\n                  }\n                }\n\n                console.log(answerlist);\n                _context2.next = 12;\n                return axios.post('http://localhost:8000/signup/answer/', answerlist);\n\n              case 12:\n                answerres = _context2.sent;\n                console.log(answerres);\n                answerlist = [];\n                this.info = [];\n                this.chosenQuestions = [];\n                this.chosenCategories = [];\n                this.chosenParents = [];\n\n              case 19:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function doRegister() {\n        return _doRegister.apply(this, arguments);\n      }\n\n      return doRegister;\n    }(),\n    parentCheckboxChanged: function parentCheckboxChanged($event) {\n      // console.log(this.parentsMap[$event.target.value])\n      if ($event.target.checked) {\n        // console.log($event.target.value)\n        this.chosenParents.push($event.target.value); // console.log(this.chosenParents);\n      } else {\n        var index = this.chosenParents.indexOf($event.target.value);\n\n        if (index > -1) {\n          this.chosenParents.splice(index, 1);\n        }\n\n        var temp = this.chosenCategories.slice(0); // console.log('set');\n        // console.log('temp:',temp);\n        // console.log('cC:', this.chosenCategories);\n\n        for (var cat in temp) {\n          // console.log('cC list:', this.chosenCategories);\n          // console.log('temp list :', temp);\n          // console.log('temp[cat]: ',temp[cat]);\n          // console.log('temp[cat] obj: ',this.categoriesMap[temp[cat]]);\n          // console.log('cC[cat]: ', this.chosenCategories[cat]);\n          // console.log('cC[cat] obj: ', this.categoriesMap[this.chosenCategories[cat]]);\n          // console.log(this.categoriesMap[temp[cat]].parent.pk == $event.target.value);\n          //   console.log(this.categoriesMap[this.chosenCategories[cat]].parent.pk == $event.target.value);\n          // console.log('catlist:');\n          // console.log('cC: ',this.categoriesMap[this.chosenCategories[temp[cat]]]);\n          // console.log('cat:');\n          // console.log(this.chosenCategories[cat]);\n          // console.log('value:');\n          // console.log($event.target.value);\n          if (this.categoriesMap[temp[cat]].parent.pk == $event.target.value) {\n            // console.log('sag in if');\n            // console.log('value: ',$event.target.value);\n            var indexx = this.chosenCategories.indexOf(temp[cat]); // console.log('index: ',indexx);\n\n            if (indexx > -1) {\n              this.chosenCategories.splice(indexx, 1); //       // console.log(this.chosenCategories);\n            }\n          }\n        }\n\n        temp = [];\n      }\n    },\n    categoryCheckboxChanged: function categoryCheckboxChanged($event) {\n      if ($event.target.checked) {\n        this.chosenCategories.push($event.target.value); // console.log(this.chosenCategories);\n      } else {\n        var index = this.chosenCategories.indexOf($event.target.value);\n\n        if (index > -1) {\n          this.chosenCategories.splice(index, 1);\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    axios.get(\"http://localhost:8000/signup/parent\").then(function (response) {\n      // console.log(response.data);\n      _this.parents = response.data;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _this.parents[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          _this.parentsMap[item.pk] = item;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }), axios.get(\"http://localhost:8000/signup/category\").then(function (response) {\n      // console.log(response.data);\n      _this.categories = response.data;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _this.categories[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n          _this.categoriesMap[item.pk] = item;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }), axios.get(\"http://localhost:8000/signup/question\").then(function (response) {\n      // console.log(response.data);\n      _this.questions = response.data;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = _this.questions[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var item = _step3.value;\n          _this.questionsMap[item.pk] = item;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["Form.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"float-center\">\n  <div id=\"aida\" class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <form style=\"width:350px\">\n          <div class=\"text-center\">\n            <h2 style=\"padding: 20px;font-family: 'Pontano Sans', sans-serif; font-weight: bold;color : #884DCB\">Moarefe Registration</h2>\n          </div>\n          <div style=\"display:table; font-family: 'PT Sans Narrow', sans-serif;font-size:20px\">\n            <div class=\"form-group\" style=\"display:table-cell\">\n              <label for=\"firstnameInput\" style=\"color:white\">First Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"firstnameInput\"\n                v-model=\"user.first_name\"\n                placeholder=\"Enter Your First Name\"\n              />\n            <!-- <small\n              id=\"emailHelp\"\n              class=\"form-text text-muted\"\n            >We'll never share your email with anyone else.</small> -->\n            </div>\n              <div class=\"mr-2 col-md-12\">\n            </div>\n\n            <div class=\"form-group\" style=\"display:table-cell\">\n              <label for=\"secondnameInput\" style=\"color:white\">Last Name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"user.last_name\"\n                id=\"secondnameInput\"\n                placeholder=\"Enter Your Second Name\"\n              />\n          </div>\n          </div>\n          <div class=\"mt-4 col-md-12\">\n          </div>\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px\">\n            <label for=\"emailInput\" style=\"color:white\">Email</label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              v-model=\"user.email\"\n              id=\"emailInput\"\n              placeholder=\"Enter Your Email\"\n            />\n          </div>\n\n          <div class=\"mt-4 col-md-12\">\n          </div>\n\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px\">\n            <label for=\"phoneNumberInput\" style=\"color:white\">Phone Number</label>\n            <input \n              type=\"tel\"\n              class=\"form-control\"\n              v-model=\"user.phone_number\"\n              id=\"phoneNumberInput\"\n              placeholder=\"Enter Your Number\"\n            />\n          </div>\n          <div class=\"mt-4 col-md-12\">\n          </div>\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px\">\n            <label for=\"stdNumInput\" style=\"color:white\">Student Number</label>\n            <input \n              type=\"text\"\n              class=\"form-control\"\n              v-model=\"user.student_number\"\n              id=\"stdNumInput\"\n              placeholder=\"Enter Your Student Number\"\n            />\n          </div>\n          <div class=\"mt-4 col-md-12\">\n          </div>\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px\">\n            <label for=\"addressInput\" style=\"color:white\">Address</label>\n            <input \n              type=\"text\"\n              class=\"form-control\"\n              v-model=\"user.address\"\n              id=\"addressInput\"\n              placeholder=\"Enter Your Address\"\n            />\n          </div>\n\n          <div class=\"form-group\" v-bind:key=\"parent.pk\" v-for=\"parent in parents\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px; color:white\">\n            <input\n              class=\"form-group-input\"\n              :id=\"'parent' + parent.pk\"\n              @change=\"parentCheckboxChanged\"\n              type=\"checkbox\"\n              :value= \"parent.pk\"\n            />\n            <label class=\"form-group-label\" :for=\"'parent' + parent.pk\">{{ parent.name }}</label>\n          </div>\n\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px;color:white\">\n            <h2>Categories</h2>\n          </div>          \n\n          <div class=\"form-group\" v-bind:key=\"parent.pk\" v-for=\"parent in chosenParents \" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px;color:white\">\n            <div\n              class=\"form-group\"\n              v-bind:key=\"category.pk\"\n              v-for=\"category in categories\"\n              v-if=\"category.parent.pk == Number(parent)\"\n              \n            >\n              <input\n                class=\"form-group-input\"\n                :id=\"'category' + category.pk\"\n                @change=\"categoryCheckboxChanged\"\n                type=\"checkbox\"\n                :value=\"category.pk\"\n              />\n              <label class=\"form-group-label\" :for=\"'category' + category.pk\"> {{ category.parent.name }} {{ category.name }}</label>\n            </div>\n          </div>\n\n          <div class=\"form-group\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px;color:white\">\n            <h2>Questions</h2>\n          </div>\n\n          <div class=\"form-group\" v-bind:key=\"category.pk\" v-for=\"category in chosenCategories\">\n            <div class=\"form-group\" v-bind:key=\"question\" v-for=\"question in questions\">\n              <div class=\"form-group\" v-if=\"question.category.pk == category\">\n                <div class=\"form-group\" v-if=\"question.is_bool == false\">\n                    <p> {{ question.category.name }} {{ question.text }} </p>\n                    <input\n                      v-model=\"info[question.pk]\"\n                      class=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"answer\"\n                      > \n                </div>\n                <div class=\"form-group  \" v-else>\n                  <p> {{ question.category.name }} {{ question.text }} </p>\n                  <label><input\n                      v-model=\"info[question.pk]\"\n                      :name=\"question.pk\"\n                      class=\"radio\"\n                      type=\"radio\"\n                      label=\"yes\"\n                      placeholder=\"answer\"\n                      value= true\n                      padding=\"20px\"\n                      > yes </label>\n                      <div></div>\n                      <label><input\n                      v-model=\"info[question.pk]\"\n                      :name=\"question.pk\"\n                      class=\"radio\"\n                      type=\"radio\"\n                      label=\"no\"\n                      value= false\n                      placeholder=\"answer\"\n                      padding=\"20px\"\n                      > no </label>\n\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n\n          <p @click=\"doRegister\" class=\"btn btn-primary\" style=\" font-family: 'PT Sans Narrow', sans-serif;font-size:20px;color:white\">Submit</p>\n        </form>\n      </div>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"Form\",\n  data() {\n    return {\n      user: {\n        first_name: \"\",\n        last_name: \"\",\n        email: \"\",\n        phone_number: \"\",\n        student_number: null,\n        address: \"\"\n      },\n      userpk: null,\n      parents: [],\n      chosenParents: [],\n      categories: [],\n      chosenCategories: [],\n      questions: [],\n      chosenQuestions: [],\n      dataObject: {},\n      info: {},\n      parentsMap : {},\n      categoriesMap : {},\n      questionsMap: {}\n    };\n  },\n  methods: {\n    async doRegister() {\n      const vinst = this;\n      \n      // console.log(this.user);\n\n      async function createuser(a) { \n        // console.log('1');\n        let response = await axios.post(\"http://localhost:8000/signup/user/\", a.user)\n        \n        // console.log('2');\n        if (response.status == 200) {\n          // console.log('success: ',response);\n          var upk = response.data[\"pk\"];\n          // console.log(a.userpk);\n        } else {\n          console.log('error: ',response);\n        }\n\n        return upk;\n      \n        }\n\n        this.userpk = await createuser(this)\n        // .then((res)=>{\n        //     // console.log(res);\n        //     this.userpk = res;\n            // console.log(this.userpk);\n            // console.log(this.userpk);\n        // });\n        // console.log(\"info:\");\n        // console.log(this.info);\n        // console.log(this.userpk);\n        \n        var answerData = {};\n\n        var answerlist=[];\n\n\n        for (var item in this.info) {\n            if (this.questionsMap[item].is_bool == true) {\n              // console.log('tushe');\n              answerData = {\n                \"user\": this.userpk,\n                \"question\": item,\n                \"text\": \"\",\n                \"boolean\": this.info[item]\n              }\n              answerlist.push(answerData);\n              // console.log(answerData);\n            } else {\n              // console.log('biruneshe');\n              answerData = {\n                \"user\": this.userpk,\n                \"question\": item,\n                \"text\": this.info[item],\n                \"boolean\": null,\n              }\n              answerlist.push(answerData);\n              // console.log(answerData);\n            }\n        }\n        console.log(answerlist);\n        var answerres= await axios.post('http://localhost:8000/signup/answer/', answerlist);\n        console.log(answerres);\n\n        answerlist = [];\n        this.info = [];\n        this.chosenQuestions=[];\n        this.chosenCategories = [];\n        this.chosenParents=[];\n        \n    },\n    parentCheckboxChanged($event) {\n      // console.log(this.parentsMap[$event.target.value])\n      if ($event.target.checked) {\n        // console.log($event.target.value)\n        this.chosenParents.push($event.target.value);\n        \n        // console.log(this.chosenParents);\n      } else {\n        let index = this.chosenParents.indexOf($event.target.value);\n        if (index > -1) {\n          this.chosenParents.splice(index, 1);\n        }\n          let temp = this.chosenCategories.slice(0);\n          // console.log('set');\n          // console.log('temp:',temp);\n          // console.log('cC:', this.chosenCategories);\n          for (var cat in temp) {\n            // console.log('cC list:', this.chosenCategories);\n            // console.log('temp list :', temp);\n            // console.log('temp[cat]: ',temp[cat]);\n            // console.log('temp[cat] obj: ',this.categoriesMap[temp[cat]]);\n            // console.log('cC[cat]: ', this.chosenCategories[cat]);\n            // console.log('cC[cat] obj: ', this.categoriesMap[this.chosenCategories[cat]]);\n            // console.log(this.categoriesMap[temp[cat]].parent.pk == $event.target.value);\n            //   console.log(this.categoriesMap[this.chosenCategories[cat]].parent.pk == $event.target.value);\n              // console.log('catlist:');\n              // console.log('cC: ',this.categoriesMap[this.chosenCategories[temp[cat]]]);\n              // console.log('cat:');\n              // console.log(this.chosenCategories[cat]);\n              // console.log('value:');\n              // console.log($event.target.value);\n              \n            if (this.categoriesMap[temp[cat]].parent.pk == $event.target.value) {\n              // console.log('sag in if');\n              // console.log('value: ',$event.target.value);\n              var indexx = this.chosenCategories.indexOf(temp[cat]);\n              // console.log('index: ',indexx);\n              if (indexx > -1) {\n                this.chosenCategories.splice(indexx, 1);\n          //       // console.log(this.chosenCategories);\n              }\n          }\n      }\n      temp = [];\n    }\n    \n    \n\n  },\n  categoryCheckboxChanged($event) {\n      if ($event.target.checked) {\n        this.chosenCategories.push($event.target.value);\n        // console.log(this.chosenCategories);\n      } else {\n        let index = this.chosenCategories.indexOf($event.target.value);\n        if (index > -1) {\n          this.chosenCategories.splice(index, 1);\n        }\n\n      }\n    }\n    },\n  mounted() {\n    axios.get(\"http://localhost:8000/signup/parent\").then(response => {\n      // console.log(response.data);\n      this.parents = response.data;\n      for(let item of this.parents){\n        this.parentsMap[item.pk] = item;\n      }\n      \n    }),\n      axios.get(\"http://localhost:8000/signup/category\").then(response => {\n        // console.log(response.data);\n        this.categories = response.data;\n        for(let item of this.categories){\n        this.categoriesMap[item.pk] = item;\n      }\n      }),\n      axios.get(\"http://localhost:8000/signup/question\").then(response => {\n        // console.log(response.data);\n        this.questions = response.data;\n        for(let item of this.questions){\n        this.questionsMap[item.pk] = item;}\n      });\n  }\n};\n</script>\n\n\n<style scoped>\n\n#aida {\n  background: #212121;\n  background-color: transparent;\n   border: 4px transparent\t#4B0082;\n  border-radius: 18px;\n  vertical-align: middle;\n  margin-top: 10%;\n  width: 400px;\n}\n</style>\n\n\n\n\n\n\n\n\n// <div class=\"form-check\" v-bind:key=\"category.pk\" v-for=\"category in chosenCategories\">\n//             <div\n//               class=\"form-check\"\n//               v-bind:key=\"question.pk\"\n//               v-if=\"question.category == Number(category)\"\n              \n\n//               v-for=\"question in questions\"\n//             >\n//               <input\n//                 class=\"form-check-input\"\n//                 :id=\"'question' + question.pk\"\n//                 type=\"checkbox\"\n//                 :value=\"question.pk\"\n//               />\n//               <!-- TODO -->\n//               <label class=\"form-check-label\" :for=\"'question' + question.pk\"> {{ question.text }}</label>\n//             </div>\n//           </div>"],"sourceRoot":"src/components"}]}